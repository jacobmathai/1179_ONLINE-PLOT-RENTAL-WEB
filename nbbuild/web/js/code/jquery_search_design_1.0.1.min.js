/* 
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
$(document).ready(function(){
    init();
});



$("#building_btn").click(function(){
    alert("hai building_btn");
    init();
});

$("#tabs1").click(function(){
    init();
});

$("#tabs2").click(function(){
    var searchDiv =   document.getElementById("searchDiv");
    init();
     searchDiv.setAttribute("style"," position:relative;display:block;");
    searchDiv.innerHTML = document.getElementById("tab2").innerHTML;
    //$('#searchDiv').setAttribute('class', 'filterContent defaultTab');
   
});

$("#tabs3").click(function(){
    var searchDiv =   document.getElementById("searchDiv");
    init();
    searchDiv.innerHTML = document.getElementById("tab3").innerHTML;
    $('#searchDiv').setAttribute("class", "filterContent defaultTab");
    //searchDiv.setAttribute("class", "filterContent");
});
        
$("#plot_btn").click(function(){
    alert("hai plot_btn");
    var searchHtml = '<div id="plot" style="width: 100%;height: 250px;background-color: #953b39">Container One</div> ';
    document.getElementById('searchDiv').innerHTML = searchHtml;
});
     
     
function init(){
    var searchHtml = '  <div class="filterContent defaultTab" id="tab1">'
    +' <form id="defaultForm" method="post" action="DefualtSearchServlet">'
    +' <div class="row">'
    +' <div class="col-lg-4 col-md-4 col-sm-6">'
    +' <div class="formBlock select">'
    +' <label for="propertyType">Property Type</label><br/>'
    +' <select name="property type" id="propertyType" class="formDropdown">'
    +' <option>Any</option>'
    +' <option value="SINGLE_HOUSE">SINGLE HOUSE</option>'
    +' <option value="FAMILY_HOUSE">FAMILY HOUSE</option>'
    +' <option value="VILLA">VILLA</option>'
    +' <option value="APARTMENT">APARTMENT</option>'
    +' <option value="BUNGALOW">BUNGALOW</option>'
    +' <option value="OFFICE_BUILDING">OFFICE BUILDING</option>'
    +' </select>'
    +' </div>'
    +' </div>'
    +' <div class="col-lg-4 col-md-4 col-sm-6">'
    +' <div class="formBlock select">'
    +' <label for="location">Location</label><br/>'
    +' <select name="location" id="location" class="formDropdown">'
    +' <option>Any</option>';
    var cityXml =  dhtmlxAjax.postSync('AjaxCityFetchingServlet');
    var data=  cityXml.xmlDoc.responseText;
    var cityArray =  JSON.parse(data);
    for(var obj in cityArray){
        searchHtml = searchHtml + '<option>' +cityArray[obj].city +'</option>';
    }
    searchHtml = searchHtml +'     </select>'
    +'  </div>'
    +'  </div>'
  
    +' <div class="col-lg-4 col-md-4 col-sm-6">'
    +' <div class="formBlock">'
    +' <label for="price-min">Price Range</label><br/>'
    +' <div style="float:right; margin-top:-25px;">'
    +' <div class="priceInput"><input type="text" name="price min" id="price-min" class="priceInput" /></div>'
    +' <span style="float:left; margin-right:10px; margin-left:10px;">-</span>'
    +' <div class="priceInput"><input type="text" name="price max" id="price-max" class="priceInput" /></div>'
    +' </div><br/>'
    +' <div class="priceSlider"></div>'
    +' <div class="priceSliderLabel"><span>0</span><span style="float:right;">800,000</span></div>'
    +' </div>'
    +'</div>'
    
    +'<div class="col-lg-3 col-md-3 col-sm-6">'
    +'<div class="formBlock select">'
    +'<label for="beds">Beds</label><br/>'
    +'<select name="beds" id="beds" class="formDropdown">'
    +' <option>Any</option>'
    +'<option value="1">1</option>'
    +' <option value="2">2</option>'
    +' <option value="3">3</option>'
    +' <option value="4">4</option>'
    +' <option value="5">5</option>'
    +' <option value="6">6</option>'
    +'<option value="7">7</option>'
    +' </select>'
    +' </div>'
    +'</div>'
    +'<div class="col-lg-3 col-md-3 col-sm-6">'
    +'<div class="formBlock select">'
    +'<label for="baths">Baths</label><br/>'
    +'<select name="baths" id="baths" class="formDropdown">'
    +' <option>Any</option>'
    +'<option value="1">1</option>+'
    +'<option value="2">2</option>'
    +'<option value="3">3</option>'
    +'<option value="4">4</option>'
    +'<option value="5">5</option>'
    +'<option value="6">6</option>'
    +'<option value="7">7</option>'
    +'</select>'
    +'</div>'
    +'</div>'
    +'<div class="col-lg-3 col-md-3 col-sm-6">'
    +' <div class="formBlock select">'
    +'<label for="area">Area (Sq Ft)</label><br/>'
    +'<select name="area" id="area" class="formDropdown">'
    +'<option>Any</option>'
    +'<option value="1">1</option>'
    +'<option value="2">2</option>'
    +'<option value="3">3</option>'
    +'<option value="4">4</option>'
    +'<option value="5">5</option>'
    +'</select>'
    +'</div>'
    +'</div>'
    +'<div class="col-lg-3 col-md-3 col-sm-6">'
    +'<div class="formBlock">'
    +' <input class="buttonColor" type="button" value="FIND PROPERTIES" id="searchBtn1" style="margin-top:24px;"/>'
    +'</div>'
    +' </div>'
    +'<div style="clear:both;"></div>'
    +'</div>'
    +'</form>'
    +'</div>';//<!-- END TAB1 -->
   
   
   
    searchHtml = searchHtml +'  <div class="filterContent" id="tab2">'
    +'<p>Filter content for Sale</p>'
    +'<form id="saleForm" method="post" action="SaleSearchServlet">'
    +'<div class="row">'
    +'<div class="col-lg-4 col-md-4 col-sm-6">'
    +'<div class="formBlock select">'
    +'<label for="propertyType2">Property Type</label><br/>'
    +'<select name="propertyType" id="propertyType2" class="formDropdown">'
    +'<option>Any</option>'
    +'<option value="SINGLE_HOUSE">SINGLE HOUSE</option>'
    +' <option value="FAMILY_HOUSE">FAMILY HOUSE</option>'
    +'<option value="VILLA">VILLA</option>'
    +' <option value="APARTMENT">APARTMENT</option>'
    +' <option value="BUNGALOW">BUNGALOW</option>'
    +' <option value="OFFICE_BUILDING">OFFICE BUILDING</option>'
    +'</select>'
    +'</div>'
    +'</div>'
    +'<div class="col-lg-4 col-md-4 col-sm-6">'
    +'<div class="formBlock select">'
    +' <label for="location2">Location</label><br/>'
    +'<select name="location" id="location2" class="formDropdown">+'
    +'<option>Any</option>';
    
    
    

    for(var key1 in cityArray){
        searchHtml = searchHtml + '<option>' +cityArray[key1].city +'</option>';
    }
    searchHtml = searchHtml +'     </select>'
      
    +'</div>'
    +' </div>'
    +' <div class="col-lg-2 col-md-2 col-sm-3">'
    +'<div class="formBlock select">'
    +' <label for="priceMinDropDown">Min Price</label><br/>'
    +' <select name="priceMinDropdown" id="priceMinDropDown" class="formDropdown">'
    +' <option>Any</option>'
    +' <option value="$100,000">$100,000</option>'
    +'<option value="$200,000">$200,000</option>'
    +' <option value="$300,000">$300,000</option>'
    +'<option value="$400,000">$400,000</option>'
    +'<option value="$500,000">$500,000</option>'
    +' <option value="$600,000">$600,000</option>'
    +'<option value="$800,000">$800,000</option>'
    +'<option value="$900,000">$900,000</option>'
    +' </select>'
    +' </div>'
    +' </div>'
    +' <div class="col-lg-2 col-md-2 col-sm-3">'
    +'<div class="formBlock select">'
    +' <label for="priceMaxDropdown">Max Price</label><br/>'
    +'<select name="priceMaxDropdown" id="priceMaxDropdown" class="formDropdown">'
    +'  <option>Any</option>'
    +' <option value="$200,000">$200,000</option>'
    +' <option value="$300,000">$300,000</option>'
    +'<option value="$400,000">$400,000</option>'
    +' <option value="$500,000">$500,000</option>'
    +' <option value="$600,000">$600,000</option>'
    +' <option value="$700,000">$700,000</option>'
    +' <option value="$900,000">$900,000</option>'
    +' <option value="$1,000,000">$1,000,000</option>'
    +' </select>'
    +' </div>'
    +' </div>'
    +' <div class="col-lg-3 col-md-3 col-sm-6">'
    +' <div class="formBlock select">'
    +' <label for="beds2">Beds</label><br/>'
    +' <select name="beds" id="beds2" class="formDropdown">'
    +' <option>Any</option>'
    +' <option value="1">1</option>'
    +' <option value="2">2</option>'
    +' <option value="3">3</option>'
    +' <option value="4">4</option>'
    +' <option value="5">5</option>'
    +' <option value="6">6</option>'
    +' <option value="7">7</option>'
    +' <option value="8">8</option>'
    +' <option value="9">9</option>'
    +' <option value="10">10</option>'
    +' </select>'
    +' </div>'
    +'</div>'
    +'<div class="col-lg-3 col-md-3 col-sm-6">'
    +'<div class="formBlock select">'
    +'<label for="baths2">Baths</label><br/>'
    +'<select name="baths" id="baths2" class="formDropdown">'
    +'<option>Any</option>'
    +'<option value="1">1</option>'
    +' <option value="2">2</option>'
    +'<option value="3">3</option>'
    +'<option value="4">4</option>'
    +'<option value="5">5</option>'
    +'<option value="6">6</option>'
    +'<option value="7">7</option>'
    +'</select>'
    +'</div>'
    +'</div>'
    +'<div class="col-lg-3 col-md-3 col-sm-6">'
    +'<div class="formBlock select">'
    +'<label for="area2">Area (Sq Ft)</label><br/>'
    +'<select name="area" id="area2" class="formDropdown">'
    +'<option>Any</option>'
    +'<option value="1">1</option>'
    +'<option value="2">2</option>'
    +'<option value="3">3</option>'
    +'<option value="4">4</option>'
    +'<option value="5">5</option>'
    +'<option value="6">6</option>'
    +'<option value="7">7</option>'
    +'</select>'
    +'</div>'
    +'</div>'
    +'<div class="col-lg-3 col-md-3 col-sm-6">'
    +'<div class="formBlock">'
    +'<input class="buttonColor" type="button" value="FIND PROPERTIES" id="searchBtn2" style="margin-top:24px;"/>'
    +'</div>'
    +'</div>'
    +'<div style="clear:both;"></div>'
    +'</div>'
    +'</form>'
    +'</div>';//<!-- END TAB2 -->
   
   
    searchHtml = searchHtml +'  <div class="filterContent" id="tab3">'
    +'<p>Filter content for Rent</p>'
    +'<form id="rentForm" method="post" action="RentSearchServlet">'
    +'<div class="row">'
    +'<div class="col-lg-4 col-md-4 col-sm-6">'
    +'<div class="formBlock select">'
    +'<label for="propertyType2">Property Type</label><br/>'
    +'<select name="propertyType" id="propertyType3" class="formDropdown">'
    +'<option>Any</option>'
    +'<option value="SINGLE_HOUSE">SINGLE HOUSE</option>'
    +' <option value="FAMILY_HOUSE">FAMILY HOUSE</option>'
    +'<option value="VILLA">VILLA</option>'
    +' <option value="APARTMENT">APARTMENT</option>'
    +' <option value="BUNGALOW">BUNGALOW</option>'
    +' <option value="OFFICE_BUILDING">OFFICE BUILDING</option>'
    +'</select>'
    +'</div>'
    +'</div>'
    +'<div class="col-lg-4 col-md-4 col-sm-6">'
    +'<div class="formBlock select">'
    +' <label for="location3">Location</label><br/>'
    +'<select name="location3" id="location3" class="formDropdown">+'
    +'<option>Any</option>';
    
    
    

    for(var key2 in cityArray){
        searchHtml = searchHtml + '<option>' +cityArray[key2].city +'</option>';
    }
    searchHtml = searchHtml +'     </select>'
      
    +'</div>'
    +' </div>'
    +' <div class="col-lg-2 col-md-2 col-sm-3">'
    +'<div class="formBlock select">'
    +' <label for="priceMinDropDown">Min Price</label><br/>'
    +' <select name="priceMinDropdown" id="priceMinDropDown3" class="formDropdown">'
    +' <option>Any</option>'
    +' <option value="$100,000">$100,000</option>'
    +'<option value="$200,000">$200,000</option>'
    +' <option value="$300,000">$300,000</option>'
    +'<option value="$400,000">$400,000</option>'
    +'<option value="$500,000">$500,000</option>'
    +' <option value="$600,000">$600,000</option>'
    +'<option value="$800,000">$800,000</option>'
    +'<option value="$900,000">$900,000</option>'
    +' </select>'
    +' </div>'
    +' </div>'
    +' <div class="col-lg-2 col-md-2 col-sm-3">'
    +'<div class="formBlock select">'
    +' <label for="priceMaxDropdown">Max Price</label><br/>'
    +'<select name="priceMaxDropdown" id="priceMaxDropdown3" class="formDropdown">'
    +'  <option>Any</option>'
    +' <option value="$200,000">$200,000</option>'
    +' <option value="$300,000">$300,000</option>'
    +'<option value="$400,000">$400,000</option>'
    +' <option value="$500,000">$500,000</option>'
    +' <option value="$600,000">$600,000</option>'
    +' <option value="$700,000">$700,000</option>'
    +' <option value="$900,000">$900,000</option>'
    +' <option value="$1,000,000">$1,000,000</option>'
    +' </select>'
    +' </div>'
    +' </div>'
    +' <div class="col-lg-3 col-md-3 col-sm-6">'
    +' <div class="formBlock select">'
    +' <label for="beds2">Beds</label><br/>'
    +' <select name="beds" id="beds3" class="formDropdown">'
    +' <option>Any</option>'
    +' <option value="1">1</option>'
    +' <option value="2">2</option>'
    +' <option value="3">3</option>'
    +' <option value="4">4</option>'
    +' <option value="5">5</option>'
    +' <option value="6">6</option>'
    +' <option value="7">7</option>'
    +' <option value="8">8</option>'
    +' <option value="9">9</option>'
    +' <option value="10">10</option>'
    +' </select>'
    +' </div>'
    +'</div>'
    +'<div class="col-lg-3 col-md-3 col-sm-6">'
    +'<div class="formBlock select">'
    +'<label for="baths2">Baths</label><br/>'
    +'<select name="baths" id="baths3" class="formDropdown">'
    +'<option>Any</option>'
    +'<option value="1">1</option>'
    +' <option value="2">2</option>'
    +'<option value="3">3</option>'
    +'<option value="4">4</option>'
    +'<option value="5">5</option>'
    +'<option value="6">6</option>'
    +'<option value="7">7</option>'
    +'</select>'
    +'</div>'
    +'</div>'
    +'<div class="col-lg-3 col-md-3 col-sm-6">'
    +'<div class="formBlock select">'
    +'<label for="area2">Area (Sq Ft)</label><br/>'
    +'<select name="area" id="area3" class="formDropdown">'
    +'<option>Any</option>'
    +'<option value="1">1</option>'
    +'<option value="2">2</option>'
    +'<option value="3">3</option>'
    +'<option value="4">4</option>'
    +'<option value="5">5</option>'
    +'<option value="6">6</option>'
    +'<option value="7">7</option>'
    +'</select>'
    +'</div>'
    +'</div>'
    +'<div class="col-lg-3 col-md-3 col-sm-6">'
    +'<div class="formBlock">'
    +'<input class="buttonColor" type="button" value="FIND PROPERTIES" id="searchBtn3" style="margin-top:24px;"/>'
    +'</div>'
    +'</div>'
    +'<div style="clear:both;"></div>'
    +'</div>'
    +'</form>'
    +'</div>';//<!-- END TAB3 -->
    document.getElementById('searchDiv').innerHTML = searchHtml;
  
    
    
    $('.bxslider').bxSlider({
        auto: true,
        pager: false,
        nextSelector: '.slider-next',
        prevSelector: '.slider-prev',
        nextText: '<img src="images/slider-next.png" alt="slider next" />',
        prevText: '<img src="images/slider-prev.png" alt="slider prev" />'
    });
    
    
    var Link = $.noUiSlider.Link;

    $(".priceSlider").noUiSlider({
        range: {
            'min': 0,
            'max': 800000
        }
        ,
        start: [150000, 550000]
        ,
        step: 1000
        ,
        margin: 100000
        ,
        connect: true
        ,
        direction: 'ltr'
        ,
        orientation: 'horizontal'
        ,
        behaviour: 'tap-drag'
        ,
        serialization: {
            lower: [
            new Link({
                target: $("#price-min")
            })
            ],

            upper: [
            new Link({
                target: $("#price-max")
            })
            ],

            format: {
                // Set formatting
                decimals: 0,
                thousand: ',',
                prefix: '' //$
            }
        }
    });  
    
}